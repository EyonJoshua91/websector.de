--- 
layout: post
title: "New Mate extensions for using AIR and SQLite: \"SQLService + SQLServiceInvoker\""
tags: 
- AIR
- Open Source
status: publish
type: post
published: true
meta: 
  _edit_last: "2"
---
<p style="background-color: #F6F6F6;">
<strong>UPDATE [10/26/08]: </strong>Source of the extensions and the example as well has been moved to the project called <a href="http://code.google.com/p/mate-examples/">'mate-examples' on Google Code</a></p>
If you are using <a href="http://mate.asfusion.com/">Mate</a> for application development based on <a href="http://www.adobe.com/products/air/">Adobe AIR</a> you may need an extension for using <a href="http://sqlite.org/">SQLite</a>, because its in Mate currently not built in. It seems that only <a href="http://www.freewebtown.com/mloncaric/mate/SQLServiceInvoker.as">one extension</a> by <a href="http://miran.nonlogic.org/">Miran Loncaric</a> available, which depends on <a href="http://www.ericfeminella.com/blog/">Eric Feminellas</a> <a href="http://www.ericfeminella.com/blog/actionscript-3-apis">SQLService</a>. Unfortunately this Mate extension lacks for using result or fault handlers, using prepared SQLStatements, parameters etc.

<!--more-->

Therefore I've started to develop new extensions called <code>SQLService</code> and <code>SQLServiceInvoker</code> with all the needed stuff such as result and fault handling within an EventMap, (re-)using prepared statements, "simple" SQL texts, named parameters etc.

BTW: <a href="http://blog.iconara.net">Theo Hultberg</a> has already opened a <a href="http://code.google.com/p/mate-examples/">very cool project on Google Code</a> for free examples based on Mate, so I hope that the new extensions will be added as well.
<h2>Screen shot of the AIR example</h2>
<img src="http://www.websector.de/blog/wp-content/uploads/2008/10/04/mateAIRSQLiteExample.png" alt="" width="500" height="450" />
<h2>Code example for using the extensions</h2>
Here is the most important part â€“ the MainEventMap which is an <a href="http://mate.asfusion.com/page/documentation/tags/eventmap">EventMap</a> for handling all SQLite services.
<phpcode><?php 
		$sourceUrl = 'http://www.websector.de/blog/wp-content/uploads/2008/10/04/MainEventMap.mxml';
		$headline = 'MainEventMap.mxml';
		$hasDownloadLink = true;

		$codeExample = new CodeViewer();
		$codeExample->showCode($sourceUrl, $headline, $hasDownloadLink);
		?></phpcode>

I'm a big fan of using <a href="http://martinfowler.com/eaaDev/PresentationModel.html">presentation models</a>, so you will have a further example for using it as well ;-) . For using presentation models within Mate check out the <a href="http://blog.iconara.net/2008/09/30/creating-a-document-based-application-with-mate/">great example called 'document based'</a> by Theo Hultberg  and his <a href="http://code.google.com/p/mate-examples/wiki/PresentationModel">very detailed post</a> on Google Code.
<h2>To-dos</h2>
<ul>
	<li>Using transactions for batch INSERT/UPDATE/DELETE operations based on the <a href="http://probertson.com/articles/2008/08/22/360flex-slides-for-air-sqlite-optimization-conversation/">great tips using AIR and SQLite</a> by <a href="http://probertson.com/">Paul Robertson</a>!</li>
</ul>
<h2>Download full source</h2>
<strike>Full source of the AIR example above including the new extensions called <code>SQLService</code> and <code>SQLServiceInvoker</code> <a href="">MateAIRSQLiteExample.zip</a></strike>

[UPDATE] Full source of the extensions and the example as well has been moved to the project called <a href="http://code.google.com/p/mate-examples/">'mate-examples' on Google Code</a>[/UPDATE] 
<h2>Acknowledge</h2>
<ul>
	<li>Eric Feminella: <a href="http://www.ericfeminella.com/blog/2008/09/29/air-sql-framework/">AIR SQL Framework</a></li>
	<li>Peter Elst: <a href="http://www.peterelst.com/blog/2008/04/07/introduction-to-sqlite-in-adobe-air/">SQLite wrapper classes</a></li>
	<li>AIR doku on Adobe: "<a href="http://help.adobe.com/en_US/AIR/1.1/devappshtml/WS5b3ccc516d4fbf351e63e3d118676a5497-7fb4.html">Working with local SQL databases</a>"</li>
	<li>H. Paul Robertson: "<a href="http://probertson.com/articles/2008/08/22/360flex-slides-for-air-sqlite-optimization-conversation/">360|Flex slides for 'AIR SQLite: An optimization conversation</a>"</li>
</ul>
